(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{61:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(32),c=a.n(r),i=a(18),s=a(22),o=a(3),u=a(11),l=a.n(u),d=a(13),p=a(6);function j(){var e=Object(n.useState)({longitude:77.74495913453232,latitude:12.993406628665984,zoom:10,width:window.innerWidth,height:window.innerHeight}),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),u=Object(o.a)(c,2),j=u[0],f=u[1],b=Object(n.useState)(),h=Object(o.a)(b,2),O=h[0],m=h[1],x=Object(n.useState)(!1),v=Object(o.a)(x,2),g=v[0],w=v[1],y=Object(n.useState)(null),_=Object(o.a)(y,2),k=_[0],S=_[1];Object(n.useEffect)((function(){Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kyupid-api.vercel.app/api/areas").then((function(e){return e.json()})).then((function(e){return f(e)}));case 2:case"end":return e.stop()}}),e)})))(),Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kyupid-api.vercel.app/api/users").then((function(e){return e.json()})).then((function(e){return m(e.users)}));case 2:case"end":return e.stop()}}),e)})))()}),[]);return Object(p.jsx)(d.d,Object(i.a)(Object(i.a)({},a),{},{onViewportChange:function(e){return r(e)},mapStyle:"mapbox://styles/mapbox/basic-v9",mapboxApiAccessToken:"pk.eyJ1Ijoibml0ZXNoc2g0cm1hIiwiYSI6ImNreHE4ZzJzdDFlYjMycHA3bXphYno3emcifQ.G690vt5K8bxhpPpyGLOEMA",onClick:function(e){if(e.features.length>0){var t=function(e){var t=0,a=0,n=0,r=0;return O.forEach((function(c){c.area_id===e&&("M"===c.gender?t++:a++,!0===c.is_pro_user&&n++,r++)})),{male:t,female:a,pro_users:n,total_users:r}}(e.features[0].properties.area_id);S({longitude:e.lngLat[0],latitude:e.lngLat[1],data:{name:e.features[0].properties.name,area_id:e.features[0].properties.area_id,pin_code:e.features[0].properties.pin_code,users:t}}),w(!0)}},children:j&&Object(p.jsxs)(d.c,{id:"my-data",type:"geojson",data:j,children:[Object(p.jsx)(d.a,Object(i.a)({},{id:"area",type:"fill",paint:{"fill-color":"#00ffff","fill-opacity":.7,"fill-outline-color":"#ff0000"}})),g&&Object(p.jsxs)(d.b,{latitude:k.latitude,longitude:k.longitude,closeButton:!0,closeOnClick:!1,onClose:function(){return w(!1)},anchor:"top",children:[Object(p.jsx)("div",{children:"".concat(k.data.name)}),Object(p.jsx)("div",{children:"Male - ".concat(k.data.users.male)}),Object(p.jsx)("div",{children:"Female - ".concat(k.data.users.female)}),Object(p.jsx)("div",{children:"Pro Users - ".concat(k.data.users.pro_users)}),Object(p.jsx)("div",{children:"Total Users - ".concat(k.data.users.total_users)})]})]})}))}var f=document.getElementById("root");c.a.render(Object(p.jsx)(n.StrictMode,{children:Object(p.jsx)(j,{})}),f)}},[[61,1,2]]]);
//# sourceMappingURL=main.394e0573.chunk.js.map